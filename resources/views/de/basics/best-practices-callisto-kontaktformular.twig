<aside class="col-12 col-md-3 push-md-9">
    <div class="sticky-wrapper">
        <div class="sticky-container" data-fn="sticky-container" data-fn-options="{ onLoadHashScrollToLink: true }">
            <div id="toc" class="toc">
<div id="toctitle">Inhalt</div>
<ul class="sectlevel1">
<li><a href="#best-practices-callisto-kontaktformular"><span>1.</span><span> Kontaktformular DGSVO-konform in Callisto anpassen</span></a>
<ul class="sectlevel2">
<li><a href="#_das_kontaktformular_um_zwei_weitere_felder_erweitern"><span>1.1.</span><span> Das Kontaktformular um zwei weitere Felder erweitern</span></a></li>
<li><a href="#_die_kategorie_für_das_kontaktformular_anpassen"><span>1.2.</span><span> Die Kategorie für das Kontaktformular anpassen</span></a></li>
<li><a href="#_die_gemachten_einstellungen_im_frontend_gegentesten"><span>1.3.</span><span> Die gemachten Einstellungen im Frontend gegentesten</span></a></li>
</ul>
</li>
</ul>
</div>
        </div>
    </div>
</aside>

<main class="col-12 col-md-9 pull-md-3" id="main">
    <h1>Best Practices: Kontaktformular in Callisto (DSGVO)</h1><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hier findest du Best Practices zum Thema DSGVO.</p>
</div>
</div>
</div><div class="sect1 adoc">
<h2 id="best-practices-callisto-kontaktformular">1. Kontaktformular DGSVO-konform in Callisto anpassen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Im Folgenden findet ihr eine Anleitung zur Erweiterung des Kontaktformulars, damit der Endkunde die Datenschutzerklärung akzeptieren muss.</p>
</div>
<div class="sect2">
<h3 id="_das_kontaktformular_um_zwei_weitere_felder_erweitern">1.1. Das Kontaktformular um zwei weitere Felder erweitern</h3>
<div class="paragraph">
<p>Unter <strong>System » CMS » Formular</strong> findet man das Kontaktformular, welches im Standard-Layout in der Kategorie <strong>Kontakt</strong> aufgerufen wird.</p>
</div>
<div class="paragraph">
<p>Innerhalb des Formulars werden nun zwei weitere Felder hinzugefügt:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Der erste Feldname (in meinem Beispiel <strong>Akzeptiere</strong>) bekommt den Typ <strong>Auswahlfeld (checkbox)</strong> und ist beim Pflichtfeld <strong>NEIN</strong> gestellt.</p>
</li>
<li>
<p>Zweiter Feldname <strong>Bitte der Datenschutzerklärung zustimmen!</strong>, Typ: <strong>einzeiliges Eingabefeld</strong> und Pflichtfeld <strong>JA</strong></p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="{{plugin_path('PlentyManual')}}/images/_best-practices/basics/dsgvo/assets/CMS_Formulare.png" alt="CMS Formulare">
</div>
<div class="title">Bild 1. Kontaktformular um zwei Felder erweitern</div>
</div>
<div class="paragraph">
<p>Die Zahlen auf der linken Seite des Screenshots sind die IDs der Datenfelder und werden für Schritt 2 benötigt. Beachte: Die IDs fangen bei 0 und nicht bei 1 an.</p>
</div>
</div>
<div class="sect2">
<h3 id="_die_kategorie_für_das_kontaktformular_anpassen">1.2. Die Kategorie für das Kontaktformular anpassen</h3>
<div class="paragraph">
<p>Unter <strong>Artikel » Kategorien</strong> sucht man die genutzte Kategorie für das Kontaktformular, was im Standard-Layout die Kategorie <strong>Kontakt</strong> ist.</p>
</div>
<div class="paragraph">
<p>In der Kategorie öffnet man das Tab <strong>Beschreibung 1</strong> und stellt Editor auf <strong>Syntax-Editor</strong> um.</p>
</div>
<div class="paragraph">
<p>Anschließend muss folgendes Script eingefügt werden:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-plenty hljs" data-lang="plenty">&lt;script&gt;
$(document).ready(function(){
	var privacyTr = $('.PlentySubmitFormInput[name="FormFields[10]"]');
	var privacyHidden = $('.PlentySubmitFormInput[name="FormFields[11]"]');
	/* Checkbox auf true setzen, falls im Vorfeld schon aktiviert */
	if(privacyHidden.val() != '') privacyTr.attr('checked', true);
	/*-*/
	privacyHidden.parents('tr').first().css('display', 'none'); // Zeile mit Pflichfeld verstecken
	privacyTr.parents('tr').first().find('.PlentySubmitFormLabel').append('&lt;br /&gt;&lt;a href="&#123;&#37; Link_PrivacyPolicy() &#37;&#125;" target="_blank"&gt;Datenschutzerklärung&lt;/a&gt;');
	privacyTr.parents('tr').first().find('.PlentySubmitFormLabel').css('font-weight', 'bold')
	/* Wert der Checkbox auf Pflichfeld übertragen */
	$('form[name=plenty_form]').submit(function() {
	if($(privacyTr[1]).is(':checked')){
		privacyHidden.val('true');
	}else{
		privacyHidden.val('');
	}
});
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dieses Script enthält zwei <strong>FormFields</strong>, wo sich in den Klammer zwei Zahlen befinden. Diese Zahlen sind die IDs von den Datenfelder aus Schritt 1, welche in dem Screenshot zu erkennen sind.</p>
</div>
<div class="paragraph">
<p>Wenn das Kontaktformular anders aufgebaut ist, dann muss man dort auch die IDs im Script entsprechend anpassen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{plugin_path('PlentyManual')}}/images/_best-practices/basics/dsgvo/assets/CMS_Kategorien.png" alt="CMS Kategorien">
</div>
<div class="title">Bild 2. Kategorie für das Kontaktformular anpassen</div>
</div>
</div>
<div class="sect2">
<h3 id="_die_gemachten_einstellungen_im_frontend_gegentesten">1.3. Die gemachten Einstellungen im Frontend gegentesten</h3>
<div class="paragraph">
<p>Kontaktformular im Frontend aufrufen und dort sind nun zwei neue Datenfelder und eine Checkbox:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{plugin_path('PlentyManual')}}/images/_best-practices/basics/dsgvo/assets/Frontend_1.png" alt="Frontend 1">
</div>
<div class="title">Bild 3. Zwei neue Datenfelder und eine Checkbox im Frontend</div>
</div>
<div class="paragraph">
<p>Füllt man das Formular aus und akzeptiert die Datenschutzerklärung nicht, wird kein Formular abgeschickt. In diesem Fall erscheint eine Fehlermeldung mit dem entsprechenden Hinweis:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{plugin_path('PlentyManual')}}/images/_best-practices/basics/dsgvo/assets/Fehlermeldung_Frontend.png" alt="Fehlermeldung Frontend">
</div>
<div class="title">Bild 4. Fehlermeldung im Frontend</div>
</div>
<div class="paragraph">
<p>Erfüllt der Endkunde alle Bedingungen, wird das Formular verschickt:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{plugin_path('PlentyManual')}}/images/_best-practices/basics/dsgvo/assets/Erfolgsmeldung_Frontend.png" alt="Erfolgsmeldung Frontend">
</div>
<div class="title">Bild 5. Erfolgsmeldung im Frontend</div>
</div>
</div>
</div>
</div>
</main>